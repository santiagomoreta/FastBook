


<polymer-element name="sell-element">
    <template>
        <style>
        :host {
            position: absolute;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }
        section#main {
          
            background: rgba(8,46,64, 0.6);
            border-radius: 10px;
           // background-image: url('../images/oscuro.jpg');
            background-size: 100% 100%;
            background-repeat: no-repeat;
            border: 3px solid dimgray;
            margin: 20px;
            height: 620px;
        }
        paper-input {
              color:white;
              
        }
   
        boton-continuar{
             border-radius: 7px;
            border:1px solid black;
        }

        h1 {
            font-size: 20px;
        }

        h1, label {
        color: white;
        font-family: Courier;
        font-weight: bold;
       
        }

        label{

            display: inline-block;
            width:100px;
        

        }
             #butt {
            background-image: url('../images/log.jpg');
            background-size: 100% 100%;
            background-repeat: no-repeat;
            color: white;
            font-weight: bold;
            margin-top: 20px;
        }
   
        paper-dropdown-menu{
      background-color: transparent;
        }
        textarea{
            border-radius: 7px;
            border:1px solid black;
            margin-bottom: 1%;
            width: 400px;
            resize: none;
        }
        #contenido-izq{
            position:relative;
            width:40%;
            margin-left: 20px;
            float:left;
            
        }
        #right{
            position:relative;
            float:right;
            width:50%;
            margin-right: 20px;
            margin-top: 8.5%;
        }
        #foo{
            position:relative;
            float:right;
            width: 100%;
            text-align: center;
            
        }
         @media (max-width: 600px) {
         
             textarea{
              width: 315px;
             }
         }
         
        </style>
        <section id="main" >
          
          <div  id="contenido-izq">
            
            

              <h1>Pon un libro a la venta, gratis y en solo unos minutos</h1>
            

         
            
             <paper-input-decorator label="Titulo" floatingLabel error="Titulo is required!">
              <input is="core-input" required>
             </paper-input-decorator>
             
              <paper-input-decorator label="Autor" floatingLabel error="Autor is required!">
              <input is="core-input" required>
             </paper-input-decorator>
              
             <paper-input-decorator label="ISBN" floatingLabel error="ISBN is required!">
              <input is="core-input" required>
             </paper-input-decorator>

             <paper-input-decorator label="Editorial" floatingLabel error="Editorial is required!">
              <input is="core-input" >
             </paper-input-decorator>
              
            <paper-input-decorator label="Precio" floatingLabel error="Precio is required!">
              <input is="core-input" required>
             </paper-input-decorator>

            
          </div>
          <div id="right">
   
                <label for="categoria">Categoria</label>
              <paper-dropdown-menu id="cat" >
                   <paper-dropdown class="dropdown"label="{{route}}" >
                    <core-menu >
                      <template repeat="{{category in categories}}">
                        <paper-item label='{{category.name}}'></paper-item>
                      </template>
                    </core-menu>
                   </paper-dropdown>
               </paper-dropdown-menu>       
            
            <br>
             <label for="provincia">provincia</label>
            <paper-dropdown-menu label="Seleccione provincia">
                <paper-item label='A Coruña'>A Coruña</paper-item>
                <paper-item label='Alicante'>Alacant</paper-item>
                <paper-item label='Albacete'>Albacete</paper-item>
                <paper-item label='Almeria'>Almería</paper-item>
                <paper-item label='Araba'>Araba</paper-item>
                <paper-item label='Asturias'>Asturias</paper-item>
                <paper-item label='Avila'>Ávila</paper-item>
                <paper-item label='Badajoz'>Badajoz</paper-item>
                <paper-item label='Balearres'>Balears</paper-item>
                <paper-item label='Barcelona'>Barcelona</paper-item>
                <paper-item label='Bizcaya'>Bizkaia</paper-item>
                <paper-item label='Burgos'>Burgos</paper-item>
                <paper-item label='Caceres'>Cáceres</paper-item>
                <paper-item label='Cadiz'>Cádiz</paper-item>
                <paper-item label='Cantabria'>Cantabria</paper-item>
                <paper-item label='Castellon'>Castelló</paper-item>
                <paper-item label=Ceuta>Ceuta</paper-item>
                <paper-item label='Ciudad Real'>Ciudad Real</paper-item>
                <paper-item label='Cordoba'>Córdoba</paper-item>
                <paper-item label='Cuenca'>Cuenca</paper-item>
                <paper-item label='Girona'>Girona</paper-item>
                <paper-item label='Granada'>Granada</paper-item>
                <paper-item label='Guadalajara'>Guadalajara</paper-item>
                <paper-item label='Guipuzkoa'>Guipuzkoa</paper-item>
                <paper-item label='Huelva'>Huelva</paper-item>
                <paper-item label='Huesca'>Huesca</paper-item>
                <paper-item label='Jaen'>Jaén</paper-item>
                <paper-item label='La Rioja'>La Rioja</paper-item>
                <paper-item label='Las Palmas'>Las Palmas</paper-item>
                <paper-item label='Leon'>León</paper-item>
                <paper-item label='Lleida'>Lleida</paper-item>
                <paper-item label='Lugo'>Lugo</paper-item>
                <paper-item label='Madrid'>Madrid</paper-item>
                <paper-item label='Malaga'>Málaga</paper-item>
                <paper-item label='Melilla'>Melilla</paper-item>
                <paper-item label='Murcia'>Murcia</paper-item>
                <paper-item label='Navarra'>Navarra</paper-item>
                <paper-item label='Ourense'>Ourense</paper-item>
                <paper-item label='Palencia'>Palencia</paper-item>
                <paper-item label='Pontevedra'>Pontevedra</paper-item>
                <paper-item label='Tenerife'>S.C. Tenerife</paper-item>
                <paper-item label='Salamanca'>Salamanca</paper-item>
                <paper-item label='Segovia'>Segovia</paper-item>
                <paper-item label='Sevilla'>Sevilla</paper-item>
                <paper-item label='Soria'>Soria</paper-item>
                <paper-item label='Tarragona'>Tarragona</paper-item>
                <paper-item label='Teruel'>Teruel</paper-item>
                <paper-item label='Toledo'>Toledo</paper-item>
                <paper-item label='Valencia'>Valencia</paper-item>
                <paper-item label='Valladolid'>Valladolid</paper-item>
                <paper-item label='Zamora'>Zamora</paper-item>
                <paper-item label='Zaragoza'>Zaragoza</paper-item> 
            </paper-dropdown-menu>
            <br>
             <label for="estado">estado</label>
            <paper-dropdown-menu label="Seleccione estado" /> 
                <paper-item label='Muy malo'>Muy malo</paper-item>
                <paper-item label='Malo'>Malo</paper-item>
                <paper-item label='Normal'>Normal</paper-item>
                <paper-item label='Bueno'>Bueno</paper-item>
                <paper-item label='Muy bueno'>Muy bueno</paper-item>
            </paper-dropdown-menu><br>
            
            <label for="descripcion">descripción*</label><br>
            <textarea id="descripcion"rows="4" cols="50" placeholder="Describe your book..." required></textarea>

            <span class="titulo">Añade algunas imágenes, ¡se venderá más rápido!</span><br><br>
                            
                <label for="img1">imagen #1</label>
                <input type="file" name="img1" id="img1" tabindex="12"/>
      
                <label for="img2">imagen #2</label>
                <input type="file" name="img2" id="img2" tabindex="13"/>
                                 
  
            

        
              
        </div>
          <div id="foo">
            <paper-button id="butt" on-tap="{{valid}}">Continuar y publicar</paper-button>
          </div>
        
        </section>     
      


        
    </template>
    <script>
        Polymer({
          
                ready:function(){
                  this.categories=[
                    {name :'Primaria'},
                    {name :'Secundaria'},
                    {name :'Bachillerato'},
                    {name :'Universidad'},
                    {name :'Oposiciones'},
                    {name :'formacion rofesional'}
                  ];
                  
                },
            
                validates: function(){
                 
                  var genre=this.$.categoria.value;
                  var province=this.$.provincia.value;
                   var isbn=this.$.isbn.value;
                  var author=this.$.autor.value;
                  var publisher=this.$.editorial.value;
                  var status=this.$.estado.value;
                  var price=this.$.precio.value;
                  var title=this.$.titulo.value;
                  var description=this.$.descripcion.value;
                 //-------------- 
                  console.log(genre);
                  console.log(province);
                 console.log(isbn);
                  console.log(author);
                  console.log(publisher);
                  console.log(status);
                  console.log(price);
                  console.log(title);
                  console.log(description);
                  
                  
                  //------------apiss/////
                  
                  $.post("http://172.16.100.72:8080/book",
                    {
                     genre : genre,
                    province : province,
                     isbn : isbn,
                    author : author,
                    publisher : publisher,
                    status : status,
                    price : price,
                    title : title,
                    description : description
                    },
                    function(data,status){
                      if (status){
                      alert("libro guardado correctamente " + status);
                    }else{
                      alert("error al subir");
                    }
                     
                    });
            
                  
                  
                },
                getdata:function(){
                      var libros="http://172.16.100.72:8080/books";
                      $.getJSON(libros,function(result){
                        alert(result);
                        console.log(result);
                      });
                     
                },
                valid:function(){
                  
                  var $d=this.$.main.querySelectorAll('paper-input-decorator');
                 // console.log(decorator);
                   Array.prototype.forEach.call($d, function(d) {
                    d.isInvalid = !d.querySelector('input').validity.valid;
                    });
                 var $f=this.$.main.querySelectorAll('paper-dropdown-menu');
                  console.log($f[0].isSelected);
                }
            
        });
    </script>
</polymer-element>
