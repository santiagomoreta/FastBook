<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/core-input/core-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/core-icon/core-icon.html">

<polymer-element name="core-search">
    <template>
        <style>
          #cont2{
              color:black;
          }
        section {
            width: auto;
            height: auto;
            padding: 0px;
        }
        core-input {
            width: auto;
            background: #F1F1F1;
            padding: 15px 15px 15px 15px;
            border: 1px solid #CCC;
            border-radius: 5px;
            box-shadow: 0px 1px 1px #CCC inset, 0px 1px 0px #FFF;
            margin: 10px;
        }
        paper-button {
            padding: 15px 15px 15px 15px;
            border: 1px solid #CCC;
            border-radius: 5px;
            margin: 10px;
        }
        core-icon {
            float: left;
        }
        </style>
        <section vertical layout center flex>
            <core-input placeholder="Find a book..."id="buscar"></core-input>
            <paper-button id="butt"on-tap="{{restful}}">Search</paper-button>
            <div id="advanced">
                <a href="">Advanced search</a>
                <core-icon alt="Advanced search" icon="search"></core-icon>
            </div>
            <div>
            <paper-dropdown-menu selected="Financier" valueattr="label">
                <paper-item label="Arts and Photography"></paper-item>
                <paper-item label="Biographies, diaries and facts"></paper-item>
                <paper-item label="Science and Medicine"></paper-item>
                <paper-item label="Consultation"></paper-item>
                <paper-item label="Sport"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Business and economics"></paper-item>
                <paper-item label="History"></paper-item>
                <paper-item label="Home, crafts and lifestyles"></paper-item>
                <paper-item label="Children's Books"></paper-item>
                <paper-item label="Computers and Digital Media"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
                <paper-item label="Law"></paper-item>
            </paper-dropdown-menu>
            </div>
        </section>
        
        
               <div id="cont2">
             <div style="font-size:50px;" id="titulo1" ></div><br>
      <br>
      <img style="float:left; margin-right:4%"id="imagen" src=""></img>
      <br> 
      <div id="autor" style="font-size:30px;"></div><br>
      <div id="editorial" style="font-size:25px;"></div><br>
      <div id="anio" style="font-size:25px;"></div><br>
      <div id="otro" style="font-size:25px;"></div><br>
      <div id="descripcion" style="font-size:20px;"></div>
      <div id="cont" style="font-size:12px;">
      </div>
      <paper-button label="Regresar" raised id="boton_regresa" class="colored" onclick="regresa()"></paper-button>
       </div> 
        
        
        
    </template>
    <script>
        Polymer({
            
            restful: function(){
              var t = document.querySelector('menu-index').shadowRoot.querySelector('core-search').shadowRoot.querySelector('core-input').value;
       
            

            
             var books="http://localhost:8080/api/books/"+t;
              alert(books);
             $.getJSON(books,function(result){
               
               console.log(result);
              var isbn=result.isbn;
              var title=result.title;
              var author=result.author;
               var year=result.year;
                var publisher=result.publisher;
                 var description=result.description;
                 var id=result._id;
                 var genre=result.genre;
              
              console.log(isbn);
        
               
                     // Set the table td text
                $('#titulo1').text("Titulo  :"+title);
                $('#autor').text("Autor  :"+author);
                 $('#editorial').text("Editorial  :"+publisher);
                $('#anio').text("Anio :"+year);
                $('#descripcion').text("Descripcion  :"+description);
                //$("#imagen").attr("src",imagen);
                $('#otro').text("ISBN  :"+isbn);

   
     
       
  
    
               
               
               
               
               
               
               
               
             });
             
   
             
            
            }
            
        });
    </script>
</polymer-element>